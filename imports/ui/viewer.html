<body>
  <pre>{{program.cCode}}</pre>

  <hr/>

  {{#if program.compileError}}
    <pre>
      {{program.compileError}}
    </pre>
  {{/if}}

  {{#if program.jsCode}}
    <script type="text/javascript">{{program.jsCode}}</script>
    <script type="text/javascript">
      var nDataBytes = 9 * 12 * 3;
      var dataPtr = Module._malloc(nDataBytes);
      window.frameData = new Uint8Array(Module.HEAPU8.buffer, dataPtr, nDataBytes);

      window.nextFrame = function() {
        Module.ccall('loopAndPopulateArray', 'number', ['number'], [window.frameData.byteOffset]);
        window.frame = new Uint8Array(window.frameData.buffer, window.frameData.byteOffset, 9 * 12 * 3);
      };
    </script>
  {{/if}}

</body>
